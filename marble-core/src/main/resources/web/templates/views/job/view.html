<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">
            <i class="fa fa-briefcase"></i> Details for Job {{job.id}}
        </h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div>
    <form id="job">
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <fieldset>
                            <p>In this page you can find information about the execution of this job.</p>
                        </fieldset>
                    </div>
                    <!-- .panel-body -->
                </div>
                <!-- /.panel -->
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->

        <div class="row">
            <div class="col-lg-8">
                <div class="panel panel-default">
                    <div class="panel-heading">Job Log</div>
                    <!-- /.panel-heading -->

                    <div class="panel-body">

                        <div class="form-group">
                            <textarea data-ng-model="job.log" id="log" class="form-control resize-vertical" rows="30" disabled="disabled"></textarea>
                            <p class="help-block">The log is displayed backwards, and only the recent entries are shown. Also, the log
                                is refreshed periodically while the job is running, so you don't have to refresh the whole page.</p>
                        </div>

                    </div>

                    <!-- .panel-body -->
                </div>
                <!-- /.panel -->
            </div>
            <!-- /.col-lg-8 -->

            <div class="col-lg-4">
                <div class="panel panel-default">
                    <div class="panel-heading">Information</div>
                    <!-- /.panel-heading -->

                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Status</th>
                                        <th id="status">{{job.status}}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th>Type</th>
                                        <td id="type">{{job.type}}</td>
                                    </tr>
                                    <tr>
                                        <th>Created At</th>
                                        <td id="createdAt" data-ng-bind="job.createdAt | date:'yyyy-MM-dd HH:mm:ss (Z)'"></td>
                                    </tr>
                                    <tr>
                                        <th>Last Updated At</th>
                                        <td id="updatedAt" data-ng-bind="job.updatedAt | date:'yyyy-MM-dd HH:mm:ss (Z)'"></td>
                                    </tr>
                                    <tr>
                                        <th>Job Parameters</th>
                                        <td id="jobParameters"><pre>{{job.jobParametersIdented}}</pre></td>
                                    </tr>
                                    
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- .panel-body -->
                </div>
                <!-- /.panel -->
                <div class="panel panel-default">
                    <div class="panel-heading">Actions</div>
                    <!-- /.panel-heading -->

                    <div class="panel-body">

                        <div class="table-responsive">
                            <table class="table" id="actions-table">
                                <tbody>
                                    <tr data-ng-if="job.plots" data-ng-repeat="plot in job.plots">
                                        <td><a data-ng-click="viewPlot(plot.id)" class="btn btn-default btn-block">
                                                <i class="fa fa-bar-chart-o"></i> View {{plot.name}}
                                        </a></td>
                                    </tr>
                                    <tr>
                                        <td data-ng-if="job.plotId" ><a data-ng-click="viewPlot()" class="btn btn-default btn-block">
                                                <i class="fa fa-bar-chart-o"></i> View Plot
                                        </a></td>
                                    </tr>
                                    <tr>
                                        <td><a data-ng-click="viewTopic()" class="btn btn-default btn-block"> <i class="fa fa-tags"></i>
                                                View Topic
                                        </a></td>
                                    </tr>
                                    <tr>
                                        <td><div data-toggle="tooltip" title="This action is not available right now.">
                                                <a id="send-command-stop" class="btn btn-default btn-block disabled"> Stop </a>
                                            </div></td>
                                    </tr>
                                </tbody>
                                <!-- <tbody>
                            <tr>
                                <td></td>
                            </tr>
                        </tbody>-->
                            </table>
                        </div>
                    </div>
                    <!-- .panel-body -->
                </div>
                <!-- /.panel -->
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div id="updated" class="alert alert-success">
                            <i class="fa fa-clock-o"></i> Updated at {{updateDate| date:'HH:mm:ss (Z)'}}.
                        </div>
                        <div id="notifications"></div>
                    </div>
                    <!-- .panel-body -->
                </div>
                <!-- /.panel -->
            </div>
            <!-- /.col-lg-4 -->
        </div>
        <!-- /.row -->

    </form>
</div>
