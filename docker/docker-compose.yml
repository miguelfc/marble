version: '2'

services:
  registry:
    image: marble/marble-registry
    ports:
     - "1111:1111"

  core:
    image: marble/marble-core
    ports:
     - "8080:8080"
    depends_on:
     - registry
    extra_hosts:
     - "mongodb:172.17.0.1"
    links:
     - registry

  preprocessor-simple:
    image: marble/marble-preprocessor-simple
    ports:
     - "8080"
    depends_on:
     - registry
    extra_hosts:
     - "mongodb:172.17.0.1"
    links:
     - registry

  processor-simple:
    image: marble/marble-processor-simple
    ports:
     - "8080"
    depends_on:
     - registry
    extra_hosts:
     - "mongodb:172.17.0.1"
    links:
     - registry
     
  processor-stanford:
    image: marble/marble-processor-stanford
    ports:
     - "8080"
    depends_on:
     - registry
    extra_hosts:
     - "mongodb:172.17.0.1"
    links:
     - registry
     
  plotter-simple:
    image: marble/marble-plotter-simple
    ports:
     - "8080"
    depends_on:
     - registry
    extra_hosts:
     - "mongodb:172.17.0.1"
    links:
     - registry
     